ls
vi Jenkinsfile
git pull origin master
ls
vi Jenkinsfile
git add .
git commit -m "[14ben] Jenkinsfile update-2"
git push origin master
 stages {
        stage('git scm update') {
            steps {
                git url: "${GIT_REPO_URL}${REPO_PATH}.git", branch: 'master'
            }
        }
vi Jenkinsfile.backup 
cd ..
vi Jenkinsfile_bk230814 
su Spring
su spring
ls
cd
ls
cd k8s-dev/
ls
cd web-server/
ls
cd yaml/
ls
vi primary-web-deployment.yaml 
su spring
cd
ls
cd k8s-dev/
ls
cd web-server/
ls
cd yaml
vi routing_rule.yaml
ip a
cd 
ls
cd k8s-dev/
cd y
ls
cd w
cd web-server/
ls
cd yaml
ls
cat main.yaml 
ls
cd ..
ls
cd yamlbackup/
ls
vi routing_rule.yaml 
cd ..
ls
cd yaml
ls
rm -rf main.yaml 
vi istio-rule.yaml
mv istio-rule.yaml istio-rule-canary.yaml
ls
vi istio-rule-canary.yaml 
clear
cd 
clear
ssh 192.168.100.100
clear
ls
mkdir MGMT
ls Music/
rm -rf Music/
clear
ls
cd MGMT/
touch succeess.sh
scp succeess.sh user1@192.168.100.100:~/MGMT/succuess.sh
rm -rf succeess.sh 
ls
touch success.sh
vi success.sh 
ls
cd
ls
cd k8s-dev/
ls
cd web-server/
ls
cd yaml
ls
vi primary-web-deployment.yaml 
ls
cd ..
ls
cd ..
ls
cd ..
ls
cd MGMT/
ls
vi success.sh 
ssh user1@192.168.100.100 ls -al
ls
vi success.sh 
ls
vi istio-rule-round-robin.yaml
ls
vi success.sh 
ls
./success.sh
chmod +x success.sh 
./success.sh
ls
mv success.sh update_primary.sh
ls
cat success.sh
cat update_primary.sh 
ls
vi update_primary.sh 
ls
vi rollback_secondary.sh
vi update_primary.sh 
vi rollback_secondary.sh 
chmod +x rollback_secondary.sh
cat update_primary.sh 
cat rollback_secondary.sh 
ls
touch MGMT_log.txt
vi update_primary.sh 
vi rollback_secondary.sh 
ls
cd ..
ls
cd k8s-dev/
ls
cd web-server/
ls
vi Jenkinsfile
git add .
git commit -m "update image 1.2.1"
git push origin master
git pull origin master
git add .
git commit -m "update image 1.2.1"
git push origin master
ls
cd 
ls
cd MGMT/
ls
./update_primary.sh 
ls
cat MGMT_log.txt 
cat update_primary.sh 
vi update_primary.sh 
vi rollback_secondary.sh 
cat MGMT_log.txt 
vi update_primary.sh 
vi rollback_secondary.sh 
vi MGMT_log.txt 
ls
cd ..
ls
cd k8s-dev/
ls
cd web-server/
ls
cd yaml
ls
vi primary-web-deployment.yaml 
vi secondary-web-deployment.yaml 
cd ..
ls
git add .
cat yaml/primary-web-deployment.yaml 
git commit -m "change replicas"
git push origin master
git pull origin master
git add .
git commit -m "change replicas"
git push origin master
ls
vi Jenkinsfile
git pull origin master
git add .
git commit -m "change replicas"
git commit -m "change replicas test"
git pull origin master
vi Jenkinsfile
git pull origin master
git commit -m "change replicas test"
git push origin master
git add .
git commit -m "change replicas test"
git push origin master
ls
vi yaml/web-service.yaml 
cat yaml/web-service.yaml 

ls
cat yaml/primary-web-deployment.yaml 
cat Jenkinsfile
ls
cd k8s-dev/
ls
cd web-server/
ls
vi Jenkinsfile 
cd ../yaml
cd yaml/
vi web-deployment.yaml 
cd ../
vi Jenkinsfile 
cp Jenkinsfile Jenkinsfile_bk230818_1648 /home/user1
cp Jenkinsfile Jenkinsfile_bk230818_1648 /home/user1/
cp Jenkinsfile Jenkinsfile_bk230818_1648
mv Jenkinsfile_bk230818_1648 /home/user1/
vi Jenkinsfile 
cd
cd k8s-dev/web-server/
clear
ls
vi Jenkinsfile 
su spring
cd
cd k8s-dev/playlist-api/
clear
ls
vi Jenkinsfile 
git pull origin master
git add . --all
git commit -m "[0815]Playlist-API Deployment"
git push origin master
cd ../web-server/
vi Jenkinsfile 
git pull origin master
claer
clear
git commit -m "[0815] WebServer Deploy"
git add . --all
git commit -m "[0815] WebServer Deploy"
git pull origin master
git push origin master
vi Jenkinsfile 
git pull origin master
git add . --all
git commit -m "[0815] WebServer Deploy"
git push origin master
clear
ls
vi Jenkinsfile 
vi yaml/istio-rule-canary.yaml 
git pull origin master
git add . --all
git commit -m "[0815] Refresh Pods"
git push origin master
clear
cd ../playlist-api/
vi Jenkinsfile 
git pull origin master
git add . --all
git commit -m "[0815] Refresh Pods"
git push origin master
cd ../web-server/
clear
ls
cd yaml
ls
vi istio-rule-canary.yaml 
cat istio-rule-canary.yaml 
cd ..
vi Jenkinsfile
vi yaml/istio-rule-canary.yaml 
git pull origin master
git add . --all
git commit -m "[0815] Update Web "
git push origin master
vi yaml/istio-rule-canary.yaml 
clear
vi src/component/BoardList.js 
git pull origin master
git add . --all
git commit -m "[0815] Board ID Remove"
vi Jenkinsfile 
git add .
git commit -m "[0815] Board ID Remove"
git push origin master
vi src/component/BoardList.js 
cat src/component/BoardList.js 
vi Jenkinsfile 
vi yaml/istio-rule-canary.yaml 
git pull origin master
git add . --all
git commit -m "[0815] Error Edit"
git push origin master
vi src/component/PlayList.js 
cat src/component/PlayList.js 
cd ..
cd playlist-api/
clear
ls
vi yaml/DB_Playlist.yaml 
vi yaml/Deployment_Playlist.yaml 
vi main.py 
clear
git pull origin master
git add . --all
git commit -m "Change CORS"
git push origin master
vi Jenkinsfile 
git add .
git commit -m "Change CORS"
git push origin master
clear
cat main.py 
vi main.py 
cp main.py ../main_backup
vi main.py 
cat main.py 
q
cd ..
ls
rm -rf Jenkinsfile_bk230814 
rm -rf Jenkinsfile_bk_0815_1300 
clear
ls
cat main_backup 
clear
cd
clear
ls
cd k8s-dev/
ls
cat main_backup > playlist-api/main.py 
cd playlist-api/
ls
vi Jenkinsfile 
vi yaml/Deployment_Playlist.yaml 
vi main.py 
vi Jenkinsfile 
git pull origin master
vi yaml/Deployment_Playlist.yaml 
git add . --all
git commit -m "Change DB Session"
git push origin master
git pull origin master
git push origin master
clear
cat main.py 
clear
ls
vi main.py 
vi Jenkinsfile 
git pull origin master
git add . --all
git commit -m "Change DB Session"
git push origin master
vi yaml/Deployment_Playlist.yaml 
cd ..
cat main_backup > playlist-api/main.py
cd playlist-api/
git pull origin
git pull origin master
git stash
git pull origin master
vi yaml/Deployment_Playlist.yaml 
clear
vi Jenkinsfile 
git add . --all
git commit -m "Alternative DB Connection"
git push origin master
cd ..
ls
cd web-server/
vi Jenkinsfile 
vi yaml/primary-web-deployment.yaml 
vi yaml/secondary-web-deployment.yaml 
clear
git pull origin master
git stash
git pull origin master
vi yaml
vi yaml/primary-web-deployment.yaml 
vi yaml/secondary-web-deployment.yaml 
vi Jenkinsfile 
git add . --all
git commit -m "Replica Down"
git push origin master
clear
while [   1   ]; curl 192.168.0.31:31180/api/board; sleep 0.1; done
while [   1   ]; do curl 192.168.0.31:31180/api/board; sleep 0.2; done
while [ 1  ] ; do curl 192.168.0.31:31180/api/playlist; sleep 0.1; done
ls
cd MGMT/
LS
ls
cd ..
ls
cd k8s-dev/
ls
cd playlist-api/
cd ..
ls
cd ..
ls
cd MGMT/
ls
vi istio-rule-round-robin.yaml 
cat istio-rule-round-robin.yaml 
ls
cd
claer
clear
ls
cd k8s-dev/web-server/yaml
ls
cat istio-rule-canary.yaml 
user1@MasterNode:~$ k get svc istio-ingressgateway -n istio-system
NAME                   TYPE       CLUSTER-IP      EXTERNAL-IP   PORT(S)                                      AGE
istio-ingressgateway   NodePort   10.104.139.69   <none>        15021:30439/TCP,80:30300/TCP,443:30932/TCP   5d22h
k get svc istio-ingressgateway -n istio-system
k get gateway
k get svc istio-ingressgateway -n istio-system -o wide
k get pods -o wide istio-ingressgateway -n istio-system
k get pods -o wide istio-ingressgateway -ingressgatewaygatewayhttpVirtualServicedefaultdefaultservicen istio-system
cd ..
ks
ls
cd yaml
ls
cat primary-web-deployment.yaml 
cat secondary-web-deployment.yaml 
su spring
clear
ls
ip a
claer
clear
ls
cd k8s-dev/
clear
ls
cd web-server/
clear
lls
ls
clear
ls
vi Jenkinsfile 
vi yaml/istio-rule-canary.yaml 
git pull origin master
git add . --all
git commit -m "Canary Deploy"
git push origin master
ls
cd k8s-dev/
ls
cd web-server/
ls
cp Jenkinsfile Jenkinsfile_0815_1300
ls
mv Jenkinsfile_0815_1300 ../
ls
cd ..
ls
mv Jenkinsfile_0815_1300 Jenkinsfile_bk_0815_1300 
cd web-server/
ls
vi Jenkinsfile 
ls
git add .
git commit -m "[14ben]230815test - 1"
git push origin master
git pull origin master
git add .
git commit -m "[14ben]230815test - 1"
git push origin master
git pull origin master
vi Jenkinsfile 
git add .
git commit -m "[14ben]230815test - 2"
git push origin master
vi Jenkinsfile 
git pull origin master
vi Jenkinsfile 
git add .
git commit -m "[14ben]230815test - 3"
git push origin master
vi Jenkinsfile 
git pull origin master
vi Jenkinsfile 
git add .
git commit -m "[14ben]230815test - 3"
git commit -m "[14ben]230815test - 4"
git push origin master
vi Jenkinsfile 
git pull origin master
git add .
git commit -m "[14ben]230815test - 4"
git push origin master
vi Jenkinsfile
git pull origin master
git add .
git commit -m "[14ben]230815test - 5"
vi Jenkinsfile
git push origin master
vi Jenkinsfile
vi Jenkinsfile 
git pull origin master
vi Jenkinsfile 
git add .
git commit -m "[14ben]230815test - 6"
git push origin master
git pull origin master
vi Jenkinsfile 
git pull origin master
git add .
git commit -m "[14ben]230815test - 7"
git push origin master
vi Jenkinsfile 
ls
ls -al
git init
git config --global user.name "SeoJuHyeong"
git config --global user.email "sjh990721@naver.com"
git remote add origin https://github.com/Seo-JuHyeong/temp.git
git add . 
git commit -m "temp"
git push origin master
ls -al
rm -rf .git
su spring
cd k8s-dev/
ls
cd web-server/
ls
git pull origin master
ls
git add .
git commit -m "[14ben] snapshot - 1"
git push origin master
git add .
git commit -m "[14ben] snapshot - 1"
git branch
ls -al
git pull origin master
git add .
git commit -m "[14ben] snapshot - 1"
ls
git add .
git commit -m "[14ben] snapshot - 1"
git push origin master
vi Jenkinsfile 
git add .
git commit -m "[14ben] snapshot - 1"
git push origin master
clear
ls
clear
ls
cd k8s-dev/web-server/
clea
lcear
ls
clear
ls
cd ..
ls
rm -rf main_backup 
vi CANARY_DEMON.sh
chmod +x CANARY_DEMON.sh 
vi CANARY_DEMON.sh 
ls
vi index.css
clear
vi CANARY_DEMON.sh 
ls
cp index.css previous-index.css
cp web-server/src/index.css previous-index.css 
clear
ls
vi canary-rule.yaml
vi stable-rule.yaml
clear
ls
vi CANARY_DEMON.sh 
ls
cp CANARY_DEMON.sh SUCCESS_DEMON.sh
vi SUCCESS_DEMON.sh 
ls
mkdir DEMON
mv canary-rule.yaml DEMON/
mv stable-rule.yaml DEMON/
mv index.css DEMON/
mv previous-index.css DEMON/
clear
ls
vi CANARY_DEMON.sh 
pwd
ls
clear
l
sls
ls
vi CANARY_DEMON.sh 
pwd
vi CANARY_DEMON.sh 
cat web-server/Jenkinsfile 
clear
ls
vi SUCCESS_DEMON.sh 
ls
vi CANARY_DEMON.sh 
clear
ls
./CANARY_DEMON.sh 
vi CANARY_DEMON.sh 
./CANARY_DEMON.sh 
cd web-server/
git pull origin master
git add . --all
git commit -m "Canary Deploy"
git push origin master
cat yaml/istio-rule-canary.yaml 
clear
ls
cd ..
ls
vi DEMON/index.css 
cd web-server/
clear
ls
vi src/
cd src/
ls
clear
ls
vi App.css 
vi index.
vi index.css 
ls
cd component/
ls
cd ..
ls
cat index.
cat index.js 
cat index.css 
claer
ls
claer
clear
ls
vi App.js 
vi App.css 
cat App.css 
clear
ls
vi index.css 
ls
cd ..
ls
cd ..
ls
vi CANARY_DEMON.sh 
ls
cd DEMON/
ls
mv index.css Main.js
vi Main.js 
ls
claer
ls
clear
ls
cd ..
ls
cd web-server/
clear
ls
vi Jenkinsfile 
vi yaml/istio-rule-canary.yaml 
git pull origin master
git add . --all
git commit -m "Canary Deploy - 2"
git push origin master
clear
cd ..
ls
cd DEMON/
clear
ls
vi canary-Jenkins.yaml 
ㅣㄴ
cd ..
clear
ls
./CANARY_DEMON.sh 
cd web-server/
git add . --all
git commit -m "Canary Test - 3"
git push origin master
cd ..
claer
ls
clear
ls
vi DEMON/Main.js 
cd DEMON/
clear
ls
cd 
cd k8s-dev/
ls
cd web-server/
clear
ls
cat Jenkinsfile 
clear
vi src/component/Main.js 
git pull origin master
vi Jenkinsfile 
git add . --all
git commit -m "Canary Deploy Test - 4"
git push origin master
ls
cd ..
clear
ls
cd web-server/
git pull origin master
cd 
cd k8s-dev/
ls
./SUCCESS_DEMON.sh 
vi SUCCESS_DEMON.sh 
./SUCCESS_DEMON.sh 
cd web-server/
git add . --all
git commit -m "Canary Deploy Test - 5"
clear
ls
vi Jenkinsfile 
ls
cd ..
ls
rm -rf CANARY_DEMON.sh 
rm -rf SUCCESS_DEMON.sh 
rm -rf DEMON/
cd web-server/
clear
ls
vi Jenkinsfile 
vi yaml/istio-rule-canary.yaml 
git pull origin master
git add . --all
git commit -m "Canary Deploy - 5"
git push origin master
vi src/component/Main.js 
vi src/index.css 
clear
ls
git pull origin master
vi Jenkinsfile 
git add . --all
git commit -m "Canary Test - 6"
git push origin master
vi src/component/Main.js 
vi Jenkinsfile 
git add . --all
git commit -m "Canary Deploy - 7"
git pull origin master
git push origin master
clear
ls
clear
vi src/component/Main.js 
git pull origin master
vi yaml/istio-rule-canary.yaml 
git add . --all
git commit -m "Canary Deploy Test - 0"
git push origin master
vi Jenkinsfile 
git add . --all
git commit -m "Canary Deploy Test - 10"
git push origin master
vi yaml/istio-rule-canary.yaml 
vi Jenkinsfile 
clear
vi src/component/Main.js 
clear
vi Jenkinsfile 
vi yaml/istio-rule-canary.yaml 
git pull origin master
git add . --all
git commit -m "Canary Deploy - 11"
git push origin master
git pull origin master
vi Jenkinsfile 
vi yaml/istio-rule-canary.yaml 
vi src/component/Main.js 
git add . --all
git commit -m "Canary Deploy - 12"
git push origin master
curl -L 192.168.100.200
clear
ls
vi Jenkinsfile 
git pull origin master
cd yaml
ls
cat primary-web-deployment.yaml 
cat secondary-web-deployment.yaml 
claer
clear
cd ..
clear
ls
vi Jenkinsfile 
vi yaml/istio-rule-canary.yaml 
git add .
git commit -m "Canary Test - 20"
git push origin master
vi Jenkinsfile 
vi src/component/Main.js 
git pull origin master
git add . --all
git commit -m "Canary Test - 30"
git push origin master
clear
vi Jenkinsfile 
vi yaml/istio-rule-canary.yaml 
vi src/component/Main.js 
git pull origin master
git add . --all
git commit -m "Canary Test - 31"
git push origin master
vi src/component/Main.js 
cat src/component/Main.js 
vi src/component/Main.js 
vi yaml/istio-rule-canary.yaml 
vi Jenkinsfile 
git pull origin master
git add .
git commit -m "set"
git push origin master
vi yaml/istio-rule-canary.yaml 
vi Jenkinsfile 
vi src/component/Main.js 
git pull origin master
git add .
git commit -m "set"
git push origin master
vi yaml/istio-rule-canary.yaml 
vi Jenkinsfile
vi src/component/Main.js
git pull origin master
git add .
git push origin master
git commit -m "set"
git push origin master
vi src/component/Main.js
vi Jenkinsfile 
vi yaml/istio-rule-canary.yaml 
git pull origin master
git add .
git commit -m "testset"
git push origin master
vi Jenkinsfile 
git pull origin master
git add .
git commit -m "t"
git push origin master
vi Jenkinsfile 
git pull origin master
git add .
git commit -m "t"
git push origin master
vi Jenkinsfile 
git pull origin master
git add .
git commit -m ""
git commit -m "f"
git push origin master
git pull origin master
vi Jenkinsfile 
vi yaml/istio-rule-canary.yaml 
git add .
git commit -m ""
git commit -m "t"
git push origin master
vi Jenkinsfile 
vi src/component/Main.js 
vi yaml/istio-rule-canary.yaml 
git add .
git commit -m "t"
git push origin master
git pull origin master
git push origin master
git pull origin 
vi yamlp
vi yaml/primary-web-deployment.yaml 
vi yaml/secondary-web-deployment.yaml 
git add .
git commit -m "asdf"
git push origin master
vi Jenkinsfile 
vi yaml/primary-web-deployment.yaml 
vi yaml/istio-rule-canary.yaml
vi Jenkinsfile 
vi src/component/Main.js
git pull origin master
git add .
git commit -m "asdf"
git push origin master
clear
ls
vi Jenkinsfile 
vi yaml/istio-rule-canary.yaml 
vi src/component/Main.js 
git pull origin master
git add . --all
git commit -m "t"
git push origin master
vi yaml/primary-web-deployment.yaml 
vi yaml/secondary-web-deployment.yaml 
git pull origin master
git stash
clear
git pull origin master
vi yaml/primary-web-deployment.yaml 
vi yaml/secondary-web-deployment.yaml 
clear
git add .
git commit -m "t"
git push origin master
vi src/component/Main.js 
vi Jenkinsfile 
vi yaml/istio-rule-canary.yaml 
git pull origin master
git add
git add .
git commit -m "test"
git push origin master
cd k8s-dev/web-server/
ls
cd src/
ls
cat index.
cat index.css 
ls
cd ..
ls
cd ..
ls
cd web-server/src/
ls
pwd
clear
ls
cd ..
ls
cat yaml/istio-rule-canary.yaml 
clear
ls yaml
cd ..
ls
cd DEMON/
pwd
ls
vi canary-Jenkins.yaml
ls
cat ../CANARY_DEMON.sh 
clear
ls
cp canary-Jenkins.yaml stable-Jenkins
ls
mv stable-Jenkins stable-Jenkins.yaml
cp canary-rule.yaml stable-rule.yaml
vi stable-rule.yaml 
ls
vi stable-Jenkins.yaml 
ls
vi canary-Jenkins.yaml 
cat stable-rule.yaml gg
clear
ls
clear
ls
cd ..
ls
cd web-server/
ls
vi src/component/Main.js 
cat src/component/Main.js 
git pull origin master
ipa
ifconfig
